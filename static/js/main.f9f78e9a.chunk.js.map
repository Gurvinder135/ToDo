{"version":3,"sources":["config.js","firebase.js","components/NavBar.js","components/ToDo.js","components/Login.js","components/Signup.js","App.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","config","auth","db","firestore","NavBar","user","history","useHistory","className","to","id","onClick","signOut","push","ToDo","useState","text","setText","mytodos","setTodos","useEffect","a","collection","doc","uid","get","docref","exists","data","todos","deletetodo","ref","result","res","filter","toDo","console","log","update","placeholder","value","type","onChange","e","target","set","map","todo","Login","email","setEmail","password","setPassword","handleSubmit","preventDefault","signInWithEmailAndPassword","window","M","toast","html","message","style","maxWidth","onSubmit","Singup","createUserWithEmailAndPassword","App","setUser","onAuthStateChanged","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPAaeA,G,YAbM,CACnBC,OAAQ,0CAERC,WAAY,qCAEZC,UAAW,qBAEXC,cAAe,iCAEfC,kBAAmB,gBAEnBC,MAAO,+CCPTC,IAASC,cAAcC,GACvB,IAAMC,EAAOH,IAASG,OAChBC,EAAKJ,IAASK,Y,OCHL,SAASC,EAAT,GAA2B,IAATC,EAAQ,EAARA,KACzBC,EAAUC,cAChB,OACE,8BACE,sBAAKC,UAAU,mBAAf,UACE,cAAC,IAAD,CAAMC,GAAG,IAAID,UAAU,aAAvB,kBAGA,oBAAIE,GAAG,aAAaF,UAAU,QAA9B,SACGH,EACC,6BACE,wBACEM,QAAS,WACPV,EAAKW,UACLN,EAAQO,KAAK,YAEfL,UAAU,UALZ,sBAWF,qCACE,6BACE,cAAC,IAAD,CAAMC,GAAG,SAAT,qBAEF,6BACE,cAAC,IAAD,CAAMA,GAAG,UAAT,gC,qCC1BD,SAASK,EAAT,GAAyB,IAATT,EAAQ,EAARA,KAC7B,EAAwBU,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAgBC,EAAhB,KACMb,EAAUC,cAEhBa,oBAAS,sBAAC,4BAAAC,EAAA,0DACJhB,EADI,gCAEeH,EAAGoB,WAAW,SAASC,IAAIlB,EAAKmB,KAAKC,MAFpD,QAEAC,EAFA,QAIKC,OACTR,EAASO,EAAOE,OAAOC,OAClBvB,EAAQO,KAAK,WANd,2CASP,CAACR,IACJ,IAQMyB,EAAU,uCAAG,WAAOA,GAAP,mBAAAT,EAAA,6DACXU,EAAM7B,EAAGoB,WAAW,SAASC,IAAIlB,EAAKmB,KAD3B,SAEIO,EAAIN,MAFR,OAEXO,EAFW,OAGXC,EAAMD,EAAOJ,OAAOC,MAAMK,QAAO,SAACC,GAAD,OAAUA,IAASL,KAC1DM,QAAQC,IAAIJ,GACZd,EAASc,GACTF,EAAIO,OAAO,CAAET,MAAOI,IANH,2CAAH,sDAQhB,OACE,sBAAKzB,UAAU,YAAf,UACE,2CACA,qBAAKA,UAAU,cAAf,SACE,uBACE+B,YAAY,YACZC,MAAOxB,EACPyB,KAAK,OACLC,SAAU,SAACC,GAAD,OAAO1B,EAAQ0B,EAAEC,OAAOJ,YAGtC,wBAAQC,KAAK,SAASjC,UAAU,WAAWG,QA3B/B,WACdyB,QAAQC,IAAI,OACZnC,EAAGoB,WAAW,SACXC,IAAIlB,EAAKmB,KACTqB,IAAI,CAAEhB,MAAM,GAAD,mBAAMX,GAAN,CAAeF,MAC7BG,EAAS,GAAD,mBAAKD,GAAL,CAAcF,MAsBpB,iBAGA,oBAAIR,UAAU,aAAd,SACGU,EAAQ4B,KAAI,SAACC,GACZ,OACE,qBAAIvC,UAAU,kBAAd,UACGuC,EACD,mBACEvC,UAAU,uBACVG,QAAS,WACPmB,EAAWiB,IAHf,sBAFmCA,WCjDlC,SAASC,IACtB,MAA0BjC,mBAAS,IAAnC,mBAAOkC,EAAP,KAAcC,EAAd,KACA,EAAgCnC,mBAAS,IAAzC,mBAAOoC,EAAP,KAAiBC,EAAjB,KACM9C,EAAUC,cACV8C,EAAY,uCAAG,WAAOV,GAAP,eAAAtB,EAAA,6DACnBsB,EAAEW,iBADiB,kBAIIrD,EAAKsD,2BAA2BN,EAAOE,GAJ3C,OAIXnB,EAJW,OAKjBwB,OAAOC,EAAEC,MAAM,CAAEC,KAAK,YAAD,OAAc3B,EAAO3B,KAAK4C,SAC/C3C,EAAQO,KAAK,KANI,gDAQjB2C,OAAOC,EAAEC,MAAM,CAAEC,KAAM,KAAIC,UARV,yDAAH,sDAWlB,OACE,sBAAKpD,UAAU,mBAAmBqD,MAAO,CAAEC,SAAU,SAArD,UACE,+CACA,uBAAMC,SAAUV,EAAhB,UACE,sBAAK7C,UAAU,cAAf,UACE,uBACE+B,YAAY,QACZC,MAAOS,EACPR,KAAK,QACLC,SAAU,SAACC,GAAD,OAAOO,EAASP,EAAEC,OAAOJ,UAErC,uBACED,YAAY,WACZC,MAAOW,EACPV,KAAK,WACLC,SAAU,SAACC,GAAD,OAAOS,EAAYT,EAAEC,OAAOJ,aAG1C,wBAAQC,KAAK,SAASjC,UAAU,WAAhC,yBCjCO,SAASwD,IACtB,MAA0BjD,mBAAS,IAAnC,mBAAOkC,EAAP,KAAcC,EAAd,KACA,EAAgCnC,mBAAS,IAAzC,mBAAOoC,EAAP,KAAiBC,EAAjB,KACM9C,EAAUC,cACV8C,EAAY,uCAAG,WAAOV,GAAP,eAAAtB,EAAA,6DACnBsB,EAAEW,iBADiB,kBAIIrD,EAAKgE,+BAA+BhB,EAAOE,GAJ/C,OAIXnB,EAJW,OAKjBwB,OAAOC,EAAEC,MAAM,CAAEC,KAAK,YAAD,OAAc3B,EAAO3B,KAAK4C,SAC/C3C,EAAQO,KAAK,KANI,gDAQjB2C,OAAOC,EAAEC,MAAM,CAAEC,KAAM,KAAIC,UARV,yDAAH,sDAWlB,OACE,sBAAKpD,UAAU,mBAAmBqD,MAAO,CAAEC,SAAU,SAArD,UACE,gDACA,uBAAMC,SAAUV,EAAhB,UACE,sBAAK7C,UAAU,cAAf,UACE,uBACE+B,YAAY,QACZC,MAAOS,EACPR,KAAK,QACLC,SAAU,SAACC,GAAD,OAAOO,EAASP,EAAEC,OAAOJ,UAErC,uBACED,YAAY,WACZC,MAAOW,EACPV,KAAK,WACLC,SAAU,SAACC,GAAD,OAAOS,EAAYT,EAAEC,OAAOJ,aAG1C,wBAAQC,KAAK,SAASjC,UAAU,WAAhC,0BCDO0D,MA3Bf,WACE,MAAwBnD,mBAAS,MAAjC,mBAAOV,EAAP,KAAa8D,EAAb,KAQA,OAPA/C,qBAAU,WACRnB,EAAKmE,oBAAmB,SAAC/D,GACb8D,EAAN9D,GACS,WAGd,IAED,eAAC,IAAD,WACE,cAACD,EAAD,CAAQC,KAAMA,IACd,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgE,OAAK,EAACC,KAAK,IAAlB,SACE,cAACxD,EAAD,CAAMT,KAAMA,MAEd,cAAC,IAAD,CAAOiE,KAAK,SAAZ,SACE,cAACtB,EAAD,MAEF,cAAC,IAAD,CAAOsB,KAAK,UAAZ,SACE,cAACN,EAAD,aCvBVO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f9f78e9a.chunk.js","sourcesContent":["var firebaseConfig = {\r\n  apiKey: \"AIzaSyDtOB6mbLj8h4qzlAaYUm6g2d-CCVxridE\",\r\n\r\n  authDomain: \"todofirebase-e1094.firebaseapp.com\",\r\n\r\n  projectId: \"todofirebase-e1094\",\r\n\r\n  storageBucket: \"todofirebase-e1094.appspot.com\",\r\n\r\n  messagingSenderId: \"1060358971959\",\r\n\r\n  appId: \"1:1060358971959:web:33596af0db2f64f09c15b2\",\r\n};\r\nexport default firebaseConfig;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport config from \"./config\";\r\nfirebase.initializeApp(config);\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\nexport { auth, db };\r\n","import React from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"../firebase\";\r\nexport default function NavBar({ user }) {\r\n  const history = useHistory();\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-wrapper blue\">\r\n        <Link to=\"/\" className=\"brand-logo\">\r\n          ToDo\r\n        </Link>\r\n        <ul id=\"nav-mobile\" className=\"right\">\r\n          {user ? (\r\n            <li>\r\n              <button\r\n                onClick={() => {\r\n                  auth.signOut();\r\n                  history.push(\"./login\");\r\n                }}\r\n                className=\"btn red\"\r\n              >\r\n                Logout\r\n              </button>\r\n            </li>\r\n          ) : (\r\n            <>\r\n              <li>\r\n                <Link to=\"/login\">Login</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/signup\">Signup</Link>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// let unsub = () => {};\r\nexport default function ToDo({ user }) {\r\n  const [text, setText] = useState(\"\");\r\n  const [mytodos, setTodos] = useState([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(async () => {\r\n    if (user) {\r\n      const docref = await db.collection(\"todos\").doc(user.uid).get();\r\n\r\n      if (docref.exists) {\r\n        setTodos(docref.data().todos);\r\n      } else history.push(\"./login\");\r\n    }\r\n    // return unsub();\r\n  }, [user]);\r\n  const addTodo = () => {\r\n    console.log(\"add\");\r\n    db.collection(\"todos\")\r\n      .doc(user.uid)\r\n      .set({ todos: [...mytodos, text] });\r\n    setTodos([...mytodos, text]);\r\n  };\r\n\r\n  const deletetodo = async (deletetodo) => {\r\n    const ref = db.collection(\"todos\").doc(user.uid);\r\n    const result = await ref.get();\r\n    const res = result.data().todos.filter((toDo) => toDo !== deletetodo);\r\n    console.log(res);\r\n    setTodos(res);\r\n    ref.update({ todos: res });\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Add ToDos</h1>\r\n      <div className=\"input-field\">\r\n        <input\r\n          placeholder=\"Add ToDos\"\r\n          value={text}\r\n          type=\"text\"\r\n          onChange={(e) => setText(e.target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn blue\" onClick={addTodo}>\r\n        Add\r\n      </button>\r\n      <ul className=\"collection\">\r\n        {mytodos.map((todo) => {\r\n          return (\r\n            <li className=\"collection-item\" key={todo}>\r\n              {todo}\r\n              <i\r\n                className=\"material-icons right\"\r\n                onClick={() => {\r\n                  deletetodo(todo);\r\n                }}\r\n              >\r\n                delete\r\n              </i>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const result = await auth.signInWithEmailAndPassword(email, password);\r\n      window.M.toast({ html: `welcome: ${result.user.email}` });\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      window.M.toast({ html: err.message });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"center container\" style={{ maxWidth: \"500px\" }}>\r\n      <h3>Please Login!</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"input-field\">\r\n          <input\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            type=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn blue\">\r\n          Login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\nexport default function Singup() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const result = await auth.createUserWithEmailAndPassword(email, password);\r\n      window.M.toast({ html: `welcome: ${result.user.email}` });\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      window.M.toast({ html: err.message });\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"center container\" style={{ maxWidth: \"500px\" }}>\r\n      <h3>Please Signup!</h3>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"input-field\">\r\n          <input\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            type=\"email\"\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            type=\"password\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn blue\">\r\n          Signup\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\nimport NavBar from \"./components/NavBar\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport ToDo from \"./components/ToDo\";\nimport Login from \"./components/Login\";\nimport Singup from \"./components/Signup\";\nimport React, { useState, useEffect } from \"react\";\nimport { auth } from \"./firebase\";\nfunction App() {\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    auth.onAuthStateChanged((user) => {\n      if (user) setUser(user);\n      else setUser(null);\n    });\n    // return unsub();\n  }, []);\n  return (\n    <Router>\n      <NavBar user={user} />\n      <Switch>\n        <Route exact path=\"/\">\n          <ToDo user={user} />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/signup\">\n          <Singup />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}