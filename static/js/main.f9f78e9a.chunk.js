(this.webpackJsonpfirebasetodo=this.webpackJsonpfirebasetodo||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(31),r=n.n(s),i=(n(37),n(13)),o=(n(38),n(5)),l=n(15),u=n(23),j=(n(39),n(49),{apiKey:"AIzaSyDtOB6mbLj8h4qzlAaYUm6g2d-CCVxridE",authDomain:"todofirebase-e1094.firebaseapp.com",projectId:"todofirebase-e1094",storageBucket:"todofirebase-e1094.appspot.com",messagingSenderId:"1060358971959",appId:"1:1060358971959:web:33596af0db2f64f09c15b2"});u.a.initializeApp(j);var d=u.a.auth(),b=u.a.firestore(),h=n(2);function p(e){var t=e.user,n=Object(o.f)();return Object(h.jsx)("nav",{children:Object(h.jsxs)("div",{className:"nav-wrapper blue",children:[Object(h.jsx)(l.b,{to:"/",className:"brand-logo",children:"ToDo"}),Object(h.jsx)("ul",{id:"nav-mobile",className:"right",children:t?Object(h.jsx)("li",{children:Object(h.jsx)("button",{onClick:function(){d.signOut(),n.push("./login")},className:"btn red",children:"Logout"})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/login",children:"Login"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/signup",children:"Signup"})})]})})]})})}var O=n(29),f=n(14),x=n.n(f),m=n(16);function v(e){var t=e.user,n=Object(c.useState)(""),a=Object(i.a)(n,2),s=a[0],r=a[1],l=Object(c.useState)([]),u=Object(i.a)(l,2),j=u[0],d=u[1],p=Object(o.f)();Object(c.useEffect)(Object(m.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,b.collection("todos").doc(t.uid).get();case 3:(n=e.sent).exists?d(n.data().todos):p.push("./login");case 5:case"end":return e.stop()}}),e)}))),[t]);var f=function(){var e=Object(m.a)(x.a.mark((function e(n){var c,a,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b.collection("todos").doc(t.uid),e.next=3,c.get();case 3:a=e.sent,s=a.data().todos.filter((function(e){return e!==n})),console.log(s),d(s),c.update({todos:s});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Add ToDos"}),Object(h.jsx)("div",{className:"input-field",children:Object(h.jsx)("input",{placeholder:"Add ToDos",value:s,type:"text",onChange:function(e){return r(e.target.value)}})}),Object(h.jsx)("button",{type:"submit",className:"btn blue",onClick:function(){console.log("add"),b.collection("todos").doc(t.uid).set({todos:[].concat(Object(O.a)(j),[s])}),d([].concat(Object(O.a)(j),[s]))},children:"Add"}),Object(h.jsx)("ul",{className:"collection",children:j.map((function(e){return Object(h.jsxs)("li",{className:"collection-item",children:[e,Object(h.jsx)("i",{className:"material-icons right",onClick:function(){f(e)},children:"delete"})]},e)}))})]})}function g(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),l=r[0],u=r[1],j=Object(o.f)(),b=function(){var e=Object(m.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.signInWithEmailAndPassword(n,l);case 4:c=e.sent,window.M.toast({html:"welcome: ".concat(c.user.email)}),j.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),window.M.toast({html:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"center container",style:{maxWidth:"500px"},children:[Object(h.jsx)("h3",{children:"Please Login!"}),Object(h.jsxs)("form",{onSubmit:b,children:[Object(h.jsxs)("div",{className:"input-field",children:[Object(h.jsx)("input",{placeholder:"Email",value:n,type:"email",onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("input",{placeholder:"Password",value:l,type:"password",onChange:function(e){return u(e.target.value)}})]}),Object(h.jsx)("button",{type:"submit",className:"btn blue",children:"Login"})]})]})}function w(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),l=r[0],u=r[1],j=Object(o.f)(),b=function(){var e=Object(m.a)(x.a.mark((function e(t){var c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.createUserWithEmailAndPassword(n,l);case 4:c=e.sent,window.M.toast({html:"welcome: ".concat(c.user.email)}),j.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),window.M.toast({html:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"center container",style:{maxWidth:"500px"},children:[Object(h.jsx)("h3",{children:"Please Signup!"}),Object(h.jsxs)("form",{onSubmit:b,children:[Object(h.jsxs)("div",{className:"input-field",children:[Object(h.jsx)("input",{placeholder:"Email",value:n,type:"email",onChange:function(e){return a(e.target.value)}}),Object(h.jsx)("input",{placeholder:"Password",value:l,type:"password",onChange:function(e){return u(e.target.value)}})]}),Object(h.jsx)("button",{type:"submit",className:"btn blue",children:"Signup"})]})]})}var y=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){d.onAuthStateChanged((function(e){a(e||null)}))}),[]),Object(h.jsxs)(l.a,{children:[Object(h.jsx)(p,{user:n}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",children:Object(h.jsx)(v,{user:n})}),Object(h.jsx)(o.a,{path:"/login",children:Object(h.jsx)(g,{})}),Object(h.jsx)(o.a,{path:"/signup",children:Object(h.jsx)(w,{})})]})]})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.f9f78e9a.chunk.js.map